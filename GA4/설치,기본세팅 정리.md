# 설치 복습
## GA4 설치 시 고려사항
GA4는 기본코드만으로 많은 데이터가 수집되지만 추가 작업이 필요한 이벤트들이 있다

> 행동 中 클릭, 스크롤/동영상, 그 외 특정 고객 행동  
> 트래픽 中 광고 유입(구글ads제외)  
> 전환(구매, 구독 등)

이 부분은 자동으로 수집되지 않으니 별도 세팅이 필요하니  
필요한 부분을 숙지해야한다

## GA4 설치
사이트를 - GTM > GA4 순으로 연결

GTM을 만들면 해더와 바드가 뜨는데 이를 홈페이지에 넣으면 됨

### GA4,GTM 설치 중요 키워드
- 모든 페이지에 삽입
- head 태그 상단에 삽입

# GA4기본 세팅

1. 신호 데이터 수집  
    관리 > 데이터 수집 > Google신호 데이터 수집  
    
    구글 계정에 대한 정보를 수집(OS,접근방법 등)

    단, 기준점 적용됨 > 사용자를 식별할 수 있는 충분한 정보가 있을 때 데이터 접근을 제한한다는 뜻

2. 데이터 보관  
    
    관리 > 데이터 보관 > 개월 수 조정  
     (기본 2개월이지만 늘리는 것을 추천 - 분석을 위해)

3. 내부 IP제외  
    관리 > 데이터 스트림 > 태그 설정 구성 > 모두 표시 > 내부 트래픽 정의 > 

4. 원치 않는 추천 나열  
    관리 > 데이터 스트림 > 태그 설정 구성 > 모두 표시 > 원치 않는 추천 나열  
    
    페이스북 광고를 보고 들어온 사람이 구매를 결심하고 장바구니에서 네이버로 로그인  >    purchase가 네이버로 찍힘

5. 참여 세션 시간 조정하기(기본 10초) & 세션 제한 시간 조정(기본 30분)   
    관리 > 데이터 스트림 > 태그 설정 구성 > 모두 표시 > 세션 시간 조정


# GA4 연동
## Search console연동
- 관리 > 제품 링크 > Search Console 링크

- 구글에서 어떤 키워드를 보고 들어왔는지를 알게 해 줌

- SEO를 관리해주는 툴(검색엔진)

## BigQuery 연동

- 관리 > 제품 링크 > BigQuery 링크 

# GA4 앱 설치
웹사이트는 GTM으로 관리했다면
앱은 Firebase Analytics SDK를 사용한다

### SPA
js(JavaScript)가 들어간 것은 SPA(single page application)이기 때문에
GTM설치 방법이 다르다
>SPA는 페이지 이동 시 전체 페이지가 다시 로드되지 않아, 표준 설치 방식으로는 첫 페이지 로드만 페이지 조회로 측정되고 내부 이동은 누락될 수 있습니다.