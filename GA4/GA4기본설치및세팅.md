# 설치 복습
## GA4 설치 시 고려사항
GA4는 기본코드만으로 많은 데이터가 수집되지만 추가 작업이 필요한 이벤트들이 있다

> 행동 中 클릭, 스크롤/동영상, 그 외 특정 고객 행동  
> 트래픽 中 광고 유입(구글ads제외)  
> 전환(구매, 구독 등)

이 부분은 자동으로 수집되지 않으니 별도 세팅이 필요하니  
필요한 부분을 숙지해야한다

## GA4 설치
사이트를 - GTM > GA4 순으로 연결

GTM을 만들면 해더와 바드가 뜨는데 이를 홈페이지에 넣으면 됨

### GA4,GTM 설치 중요 키워드
- 모든 페이지에 삽입
- head 태그 상단에 삽입

---
# GA4기본 세팅

1. 신호 데이터 수집  
    관리 > 데이터 수집 > Google신호 데이터 수집  
    
    구글 계정에 대한 정보를 수집(OS,접근방법 등)

    단, 기준점 적용됨 > 사용자를 식별할 수 있는 충분한 정보가 있을 때 데이터 접근을 제한한다는 뜻

2. 데이터 보관  
    
    관리 > 데이터 보관 > 개월 수 조정  
     (기본 2개월이지만 늘리는 것을 추천 - 분석을 위해)

3. 내부 IP제외  
    관리 > 데이터 스트림 > 태그 설정 구성 > 모두 표시 > 내부 트래픽 정의 > 

4. 원치 않는 추천 나열  
    관리 > 데이터 스트림 > 태그 설정 구성 > 모두 표시 > 원치 않는 추천 나열  
    
    페이스북 광고를 보고 들어온 사람이 구매를 결심하고 장바구니에서 네이버로 로그인  >    purchase가 네이버로 찍힘

5. 참여 세션 시간 조정하기(기본 10초) & 세션 제한 시간 조정(기본 30분)   
    관리 > 데이터 스트림 > 태그 설정 구성 > 모두 표시 > 세션 시간 조정
---
# GA4 - 이벤트 세팅

## 이벤트 설정 시 고려해야할 순서
1. 자동 수집 이벤트
2. 향상된 측정 이벤트
3. 추천 이벤트
4. 맞춤 이벤트

## 이벤트 세팅법
1. GA4 > 관리 > 데이터 표시 > 이벤트 > 이벤트 만들기
2. GTM > 변수 + 트리거 + 태그
3. GA4 > 잠재고객 트리거
4. gtag - 이벤트 스니핏을 직접 추가

---
# GA4 - 전환 세팅
## GA4 - 전환 세팅법
1. GA4 > 관리 > 데이터 표시 > 이벤트 > 주요 이벤트로 표시 (= 전환)

---
# GA4 - 트래픽 세팅
### 주요 채널
- Direct : 직접 들어오거나 or 리퍼러가 없는 것들을 포함(카톡 링크에 리퍼러 정보를 넣지 않으면 Direct)

- Cross-network : 광고 상품

- Paid Shopping : 쇼핑 사이트에 저장되어 있거나 or 캠퍼인 이름에 쇼핑이 있거나 or cp*로 표시하였을 때

### 채널 정의
https://support.google.com/analytics/answer/9756891?hl=en


### 임의로 채널 수정법
GA4 > 관리 > 데이터 표시 > 채널 그룹

ex) Organic Social 中 "bruch"에서 들어오는 소스는 Organic bruch로 표시할 거야

**주로 unassigned 채널을 지정하는데 사용한다**


---
# GA4 - UTM 세팅
- GA4는 스스로 Organic과 Paid를 구분하지 못한다
- 따라서 우리가 리퍼러(referrer)에 직접 구분을 해 줘야 함
- 그것이 UTM URL

### UTM URL주소 읽는 방법

> https://www.nike.com/kr/?  
utm_source=naver    = 소스  
&utm_medium=cpc   = 메체  
&utm_campaign=main_pc&utm_term=maintext&cp=59544783063_search_ = 캠페인

EX) 네이버 에서 광고로 캠페인을 보러 온 사람이야

---
### UTM Builder

URL builder : https://ga-dev-tools.google/campaign-url-builder/

#### 주의사항
- **캠페인 이름은 주로 캠페인 스프레드시트에 규칙을 만들어두고 사용한다** > 이래야 명칭이 통일되고 관리가 쉬움  

| UTM 파라미터       | 클릭할 GA4 측정기준     |
| -------------- | ---------------- |
| `utm_id`       | **세션 수동 캠페인 ID** |
| `utm_source`   | **세션 수동 소스**     |
| `utm_medium`   | **세션 수동 매체**     |
| `utm_campaign` | **세션 수동 캠페인 이름** |
| `utm_term` |**세션 수동 검색어**|
| `utm_content` |**세션 수동 광고 콘텐츠**|
