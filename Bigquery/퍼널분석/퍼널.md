# 퍼널 분석
## 퍼널 분석의 흐름
1. 서비스, 비즈니스 파악
2. 문제 정의 - 핵심 문제, 목표 정의
3. 퍼널 정의 - 퍼널 매핑, 퍼널 별 핵심 이벤트 정의
4. 퍼널 분석
    -   SQL쿼리 작성
    -   의사결정
5. 가설 도출, 액션 도출

## 퍼널 정의
- 대표적인 퍼널 : 회원 가입 퍼널, 온보딩 퍼널, 결제 퍼널

- 목적에 맞게 퍼널을 구성할 수 있다
    - 특정 페이지 > 하나의 퍼널
    - 특정 페이지 묶음 > 하나의 퍼널

## 퍼널 정의 방법
1. 이벤트가 명시적으로 존재하는 경우
    - 이벤트의 조합으로 사용

2. 명시적 X, 모든 페이지의 view가 존재하는 경우
    - 페이지의 view를 기준으로 퍼널을 정의
    - ex) 회원가입완료 페이지 view, 회원가입시작 페이지 view

## 퍼널 종류
- OPEN퍼널
    - 유저의 이벤트 행동 순서에 상관없이 집계
    - 여러 단계에서 유연하게 시작될 수 있다고 가정

- Closed퍼널
    - 유저가 정해진 단계를 순서대로 거쳐야 집계
    - 대부분의 분석 도구에서 사용

### SQL상 두개 차이
- OPEN퍼널
    - 해당 이벤트가 존재하는지만 파악
- CLOSED퍼널
    - 유저의 로그 데이터를 기반으로 시간을 확인(TIMESTAMP)

## 퍼널의 핵심
- 제품을 잘 이해해서 CLODES와 OPEN을 선택해야 한다

### 어떤 퍼널을 먼저 개선해야 할지 선택 방법
- 상황, 전략적인 방향에 따라 다르다
- **수치가 아닌 인사이트가 필요**
- 실무 관점에서는 결국 모두 다 해야 함
- 투자대비수익(ROI)가 높은 부분부터 개선

## 지표 집계 단위

    대표적인 방법  
        1. 유저  
        2. 이벤트(활동)
        3. 세션
        
    + 여러 차원(Dimension)으로 집계

    - 시간축
    - 지역 정보
    - 사용자 인구 통꼐


### 세션 vs 유저
    - 세션 : 방문이 흔한 경우면 세션이 좋음
    ex) 카카오톡 : 하루에도 어러 번 들어옴

    - 유저 : 하루에 반복 접속하는 빈도가 낮으면 유저가 편함

### 이탈

- ga4에서는 이탈 이벤트를 측정하지 않음
```
GA4의 이탈률은 "이탈률 = 100% - 참여율"로 정의

참여율 = 참여 세션 수 / 전체 세션 수

이탈률 = 비참여 세션 비율
```

> 따라서 GA4에서는 다음과 같이 말해야함
```
"이 페이지에서 비참여 세션 비율이 높다"

"이 페이지 유입 세션 중 의미 있는 행동이 발생하지 않은 비율이 높다"
```
### USED_id가 NULL인 경우가 있을 수 있음
1. device_id
2. user_presudo_id


## 퍼널 관련 아이디어
- 퍼널 단계를 줄이기
- 퍼널 순서를 바꾸기
- 결제 직전 추가 상품을 추천
- 장바구니 담기 전 할인 프로모션 안내

